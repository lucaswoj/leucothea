<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.css' rel='stylesheet' />
    <link href='/stylesheet.css' rel='stylesheet' />
    <title>{{ page.title }}</title>
  </head>

  <body>
    <h1>{{page.title}}</h1>

    {{ content }}

    <script src="http://livejs.com/live.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.js"></script>

    <script>
      anchors.options.placement = 'left';
      anchors.add('h1, h2, h3, h4, h5, h6');

      // Wrap "Prior Art" section in a collapsible "details" tag
      var headingElement = document.querySelector('h1#prior-art');
      var detailsElement = document.createElement('details');
      var element = headingElement.nextSibling;
      while (element && element.tagName !== 'H1') {
        var nextElement = element.nextSibling;
        detailsElement.appendChild(element);
        element = nextElement;
      }
      headingElement.parentNode.insertBefore(detailsElement, headingElement.nextSibling);

    </script>
  </body>
</html>
